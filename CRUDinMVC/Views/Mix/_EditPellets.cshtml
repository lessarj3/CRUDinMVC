@*@using CathRepoCommon.Models*@
@model IEnumerable<CathRepoCommon.Models.Pellet>

<div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times</button>
    <h4 class="modal-title" id="myModalLabel">Pellet Data</h4>
</div>
      
                
           
<table id="Pellets" class="table">
    <tbody>
        <tr>
            <th new { htmlAttributes=new style="width: 80px; text-align:center" }>Select</th>
            <th new { htmlAttributes=new style="width: 80px; text-align:center" }>Mass (g)</th>
            <th new { htmlAttributes=new style="width: 100px; text-align:center" }>Diameter (mm)</th>
            <th new { htmlAttributes=new style="width: 100px; text-align:center" }>Thickness (mm)</th>
            <th new { htmlAttributes=new style="width: 100px; text-align:center" }>Resistance (ohms)</th>
        </tr>

        @foreach (var item in Model)
        {
            var i = 1;
            <tr id=i>
                <td><input type="checkbox" name="record" style="text-align:center"></td>
                <td>@Html.EditorFor(modelItem => item.Mass, new { htmlAttributes = new { style = "width: 110px; text-align:center" } })</td>
                <td>@Html.EditorFor(modelItem => item.Diameter, new { htmlAttributes = new { style = "width: 110px; text-align:center" } })</td>
                <td>@Html.EditorFor(modelItem => item.Thickness, new { htmlAttributes = new { style = "width: 110px; text-align:center" } })</td>
                <td>@Html.EditorFor(modelItem => item.Resistance, new { htmlAttributes = new { style = "width: 110px; text-align:center" } })</td>
            </tr>
            i += 1;
        }
    </tbody>          
</table>

<div>
    <input type="text" id="mass" class="resizedTextbox" placeholder="Mass">
    <input type="text" id="diameter" class="resizedTextbox" placeholder="Diameter">
    <input type="text" id="thickness" class="resizedTextbox" placeholder="Thickness">
    <input type="text" id="resistance" class="resizedTextbox" placeholder="Resistance">
    <input type="button" class="add-row" value="Add Row">
</div>
<br/>

<div>
    <p>Please check the boxes of the mixes to delete.</p><button type="button" class="delete-row">Delete Row</button>
</div>

<style>
    .resizedTextbox {width: 110px; text-align:center}
    .col1 {width: 30%;}
    .col2 {width: 10%;}
    .col3 {width: 25%;}
    .col4 {width: 15%;}
</style>

<script type="text/javascript">
    $(document).ready(function(){
        $(".add-row").click(function(){
            var mass = $("#mass").val();
            var diameter = $("#diameter").val();
            var thickness = $("#thickness").val();
            var resistance = $("#resistance").val();

            var markup = "<tr><td><input type='checkbox' name='record'></td><td>" + mass + "</td><td>" + diameter + "</td><td>" + thickness + "</td><td>" + resistance + "</td></tr>";
            $("table tbody").append(markup);
        });

        // Find and remove selected table rows
        $(".delete-row").click(function(){
            $("table tbody").find('input[name="record"]').each(function(){
            	if($(this).is(":checked")){
                    $(this).parents("tr").remove();
                }
            });
        });
    });
</script>